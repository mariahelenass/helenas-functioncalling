
services:
  inference:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: inference
    environment:
      - MODEL_PATH=/app/models/function-gemma-270m-it-tuned
    volumes:
      - ./models:/app/models:ro
    restart: unless-stopped
    ports:
      - "8080:8080"

  streamlit:
    build:
      context: test-front
      dockerfile: Dockerfile
    container_name: front
    depends_on:
      - inference
    restart: unless-stopped
    ports:
      - "8501:8501"

